# AIOps-Platform Environment Configuration
# 环境变量配置文件
# 版本: 1.0.0

# ===========================================
# 基础配置
# ===========================================
COMPOSE_PROJECT_NAME=aiops-platform
COMPOSE_FILE=docker-compose.yml

# ===========================================
# 网络配置
# ===========================================
FRONTEND_SUBNET=172.20.0.0/24
BACKEND_SUBNET=172.21.0.0/24
AI_NETWORK_SUBNET=172.22.0.0/24

# ===========================================
# 域名配置
# ===========================================
DOMAIN_SUFFIX=localhost
TRAEFIK_DOMAIN=traefik.localhost
GRAFANA_DOMAIN=grafana.localhost
KIBANA_DOMAIN=kibana.localhost
PROMETHEUS_DOMAIN=prometheus.localhost
ALERTMANAGER_DOMAIN=alertmanager.localhost
ELASTICSEARCH_DOMAIN=elasticsearch.localhost
AI_ENGINE_DOMAIN=ai.localhost
SELF_HEALING_DOMAIN=healing.localhost
API_GATEWAY_DOMAIN=api.localhost

# ===========================================
# 安全配置
# ===========================================
# Grafana
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin123
GF_SECURITY_SECRET_KEY=aiops-grafana-secret-key-2024

# Redis
REDIS_PASSWORD=aiops-redis-password-2024

# PostgreSQL
POSTGRES_DB=aiops
POSTGRES_USER=aiops
POSTGRES_PASSWORD=aiops-db-password-2024

# JWT Secret
JWT_SECRET_KEY=aiops-jwt-secret-key-2024

# API Keys
API_KEY_ADMIN=aiops-admin-api-key-2024
API_KEY_READONLY=aiops-readonly-api-key-2024

# ===========================================
# 服务端口配置
# ===========================================
# 外部访问端口
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
TRAEFIK_DASHBOARD_PORT=8090

# 监控服务端口
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
ALERTMANAGER_PORT=9093
NODE_EXPORTER_PORT=9100
CADVISOR_PORT=8081

# 日志服务端口
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_TRANSPORT_PORT=9300
LOGSTASH_PORT=5044
LOGSTASH_HTTP_PORT=9600
KIBANA_PORT=5601

# AI和自愈服务端口
AI_ENGINE_PORT=8000
SELF_HEALING_PORT=8001
ANSIBLE_API_PORT=8002
API_GATEWAY_PORT=8080

# 数据库端口
REDIS_PORT=6379
POSTGRES_PORT=5432

# ===========================================
# 资源限制配置
# ===========================================
# Elasticsearch JVM配置
ES_JAVA_OPTS=-Xms1g -Xmx1g

# Logstash JVM配置
LS_JAVA_OPTS=-Xms512m -Xmx512m

# AI引擎配置
AI_ENGINE_WORKERS=4
AI_ENGINE_MAX_MEMORY=2g

# ===========================================
# 存储配置
# ===========================================
# 数据保留时间
PROMETHEUS_RETENTION_TIME=30d
ELASTICSEARCH_RETENTION_DAYS=30
LOG_RETENTION_DAYS=7

# 存储路径
DATA_PATH=./data
LOGS_PATH=./logs
CONFIGS_PATH=./configs
MODELS_PATH=./ai-engine/models
PLAYBOOKS_PATH=./self-healing/playbooks

# ===========================================
# 监控和告警配置
# ===========================================
# 告警通知配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=alerts@aiops-platform.com
SMTP_PASSWORD=smtp-password-2024
ALERT_EMAIL_TO=admin@aiops-platform.com

# Slack通知配置
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#aiops-alerts

# 钉钉通知配置
DINGTALK_WEBHOOK_URL=https://oapi.dingtalk.com/robot/send?access_token=YOUR_TOKEN

# ===========================================
# AI模型配置
# ===========================================
# 异常检测模型配置
ANOMALY_DETECTION_MODEL=lstm_autoencoder
MODEL_UPDATE_INTERVAL=24h
TRAINING_DATA_WINDOW=7d
ANOMALY_THRESHOLD=0.8

# 预测模型配置
PREDICTION_MODEL=prophet
PREDICTION_HORIZON=24h
MODEL_RETRAIN_INTERVAL=168h

# ===========================================
# 自愈配置
# ===========================================
# 自愈触发条件
AUTO_HEALING_ENABLED=true
HEALING_COOLDOWN_PERIOD=300s
MAX_HEALING_ATTEMPTS=3
HEALING_TIMEOUT=600s

# Ansible配置
ANSIBLE_HOST_KEY_CHECKING=False
ANSIBLE_TIMEOUT=300
ANSIBLE_FORKS=10

# ===========================================
# 日志配置
# ===========================================
# 日志级别
LOG_LEVEL=INFO
DEBUG_MODE=false

# 日志格式
LOG_FORMAT=json
TIMESTAMP_FORMAT=ISO8601

# ===========================================
# 性能配置
# ===========================================
# API限流配置
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=3600s

# 缓存配置
CACHE_TTL=300s
CACHE_MAX_SIZE=1000

# 连接池配置
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30s

# ===========================================
# 开发和调试配置
# ===========================================
# 开发模式
DEVELOPMENT_MODE=false
DEBUG_API=false
ENABLE_PROFILING=false

# 测试配置
TEST_MODE=false
MOCK_EXTERNAL_SERVICES=false

# ===========================================
# SSL/TLS配置
# ===========================================
# SSL证书配置
SSL_ENABLED=true
SSL_CERT_PATH=/certificates/cert.pem
SSL_KEY_PATH=/certificates/key.pem
SSL_CA_PATH=/certificates/ca.pem

# Let's Encrypt配置
LETSENCRYPT_EMAIL=admin@aiops-platform.com
LETSENCRYPT_STAGING=false

# ===========================================
# 备份配置
# ===========================================
# 自动备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# 数据库备份
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 3 * * *

# ===========================================
# 外部集成配置
# ===========================================
# Kubernetes集成
KUBERNETES_ENABLED=false
KUBE_CONFIG_PATH=~/.kube/config
KUBE_NAMESPACE=aiops

# AWS集成
AWS_ENABLED=false
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key

# 云监控集成
CLOUD_MONITORING_ENABLED=false
CLOUD_PROVIDER=aws

# ===========================================
# 时区和本地化配置
# ===========================================
TIMEZONE=Asia/Shanghai
LANGUAGE=zh-CN
LOCALE=zh_CN.UTF-8