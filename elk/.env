# ELK Stack Environment Configuration
# ELK堆栈环境配置文件

# =============================================================================
# Elasticsearch Configuration
# =============================================================================
ELASTIC_VERSION=8.11.0
ELASTIC_PASSWORD=aiops123456
ELASTIC_USERNAME=elastic

# Cluster settings
CLUSTER_NAME=aiops-cluster[]'p;-][zzzz6xght]
NODE_NAME=aiops-node-1
DISCOVERY_TYPE=single-node

# Network settings
ES_HOST=0.0.0.0
ES_PORT=9200
ES_TRANSPORT_PORT=9300

# Memory settings
ES_JAVA_OPTS=-Xms2g -Xmx2g
ES_MEM_LIMIT=4g

# Security settings
XPACK_SECURITY_ENABLED=true
XPACK_SECURITY_ENROLLMENT_ENABLED=true
XPACK_SECURITY_HTTP_SSL_ENABLED=false
XPACK_SECURITY_TRANSPORT_SSL_ENABLED=false
XPACK_LICENSE_SELF_GENERATED_TYPE=basic

# =============================================================================
# Kibana Configuration
# =============================================================================
KIBANA_HOST=0.0.0.0
KIBANA_PORT=5601
KIBANA_USERNAME=kibana_system
KIBANA_PASSWORD=aiops123456

# Elasticsearch connection
ELASTICSEARCH_HOSTS=http://elasticsearch:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=aiops123456

# Kibana settings
SERVER_NAME=aiops-kibana
SERVER_PUBLICBASEURL=http://localhost:5601
I18N_LOCALE=zh-CN

# =============================================================================
# Logstash Configuration
# =============================================================================
LOGSTASH_HOST=0.0.0.0
LOGSTASH_PORT=5044
LOGSTASH_API_PORT=9600
LOGSTASH_MONITORING_PORT=9700

# Pipeline settings
PIPELINE_WORKERS=4
PIPELINE_BATCH_SIZE=125
PIPELINE_BATCH_DELAY=50

# JVM settings
LS_JAVA_OPTS=-Xms1g -Xmx1g
LS_MEM_LIMIT=2g

# Elasticsearch output
LS_ELASTICSEARCH_HOSTS=http://elasticsearch:9200
LS_ELASTICSEARCH_USERNAME=elastic
LS_ELASTICSEARCH_PASSWORD=aiops123456

# =============================================================================
# Filebeat Configuration
# =============================================================================
FILEBEAT_VERSION=8.11.0
FILEBEAT_HOST=0.0.0.0
FILEBEAT_MONITORING_PORT=5066

# Output settings
FILEBEAT_LOGSTASH_HOSTS=logstash:5044
FILEBEAT_ELASTICSEARCH_HOSTS=http://elasticsearch:9200
FILEBEAT_ELASTICSEARCH_USERNAME=elastic
FILEBEAT_ELASTICSEARCH_PASSWORD=aiops123456

# Kibana settings
FILEBEAT_KIBANA_HOST=http://kibana:5601
FILEBEAT_KIBANA_USERNAME=elastic
FILEBEAT_KIBANA_PASSWORD=aiops123456

# =============================================================================
# Metricbeat Configuration
# =============================================================================
METRICBEAT_VERSION=8.11.0
METRICBEAT_HOST=0.0.0.0
METRICBEAT_MONITORING_PORT=5067

# Output settings
METRICBEAT_LOGSTASH_HOSTS=logstash:5044
METRICBEAT_ELASTICSEARCH_HOSTS=http://elasticsearch:9200
METRICBEAT_ELASTICSEARCH_USERNAME=elastic
METRICBEAT_ELASTICSEARCH_PASSWORD=aiops123456

# Kibana settings
METRICBEAT_KIBANA_HOST=http://kibana:5601
METRICBEAT_KIBANA_USERNAME=elastic
METRICBEAT_KIBANA_PASSWORD=aiops123456

# =============================================================================
# Heartbeat Configuration
# =============================================================================
HEARTBEAT_VERSION=8.11.0
HEARTBEAT_HOST=0.0.0.0
HEARTBEAT_MONITORING_PORT=5068

# Output settings
HEARTBEAT_LOGSTASH_HOSTS=logstash:5044
HEARTBEAT_ELASTICSEARCH_HOSTS=http://elasticsearch:9200
HEARTBEAT_ELASTICSEARCH_USERNAME=elastic
HEARTBEAT_ELASTICSEARCH_PASSWORD=aiops123456

# Kibana settings
HEARTBEAT_KIBANA_HOST=http://kibana:5601
HEARTBEAT_KIBANA_USERNAME=elastic
HEARTBEAT_KIBANA_PASSWORD=aiops123456

# =============================================================================
# APM Server Configuration
# =============================================================================
APM_SERVER_VERSION=8.11.0
APM_SERVER_HOST=0.0.0.0
APM_SERVER_PORT=8200
APM_SERVER_MONITORING_PORT=5069

# Output settings
APM_SERVER_ELASTICSEARCH_HOSTS=http://elasticsearch:9200
APM_SERVER_ELASTICSEARCH_USERNAME=elastic
APM_SERVER_ELASTICSEARCH_PASSWORD=aiops123456

# Kibana settings
APM_SERVER_KIBANA_HOST=http://kibana:5601
APM_SERVER_KIBANA_USERNAME=elastic
APM_SERVER_KIBANA_PASSWORD=aiops123456

# APM settings
APM_SERVER_SECRET_TOKEN=aiops-apm-secret-token
APM_SERVER_API_KEY_ENABLED=true
APM_SERVER_RUM_ENABLED=true

# =============================================================================
# Elasticsearch Exporter Configuration
# =============================================================================
ES_EXPORTER_VERSION=1.6.0
ES_EXPORTER_PORT=9114
ES_EXPORTER_ES_URI=http://elasticsearch:9200
ES_EXPORTER_ES_USERNAME=elastic
ES_EXPORTER_ES_PASSWORD=aiops123456

# =============================================================================
# Network Configuration
# =============================================================================
NETWORK_NAME=elk-network
NETWORK_DRIVER=bridge
NETWORK_SUBNET=172.20.0.0/16
NETWORK_GATEWAY=172.20.0.1

# =============================================================================
# Volume Configuration
# =============================================================================
DATA_PATH=./data
LOGS_PATH=./logs
CONFIG_PATH=../configs

# Elasticsearch volumes
ES_DATA_PATH=${DATA_PATH}/elasticsearch
ES_LOGS_PATH=${LOGS_PATH}/elasticsearch
ES_CONFIG_PATH=${CONFIG_PATH}/elasticsearch

# Kibana volumes
KIBANA_DATA_PATH=${DATA_PATH}/kibana
KIBANA_LOGS_PATH=${LOGS_PATH}/kibana
KIBANA_CONFIG_PATH=${CONFIG_PATH}/kibana

# Logstash volumes
LS_DATA_PATH=${DATA_PATH}/logstash
LS_LOGS_PATH=${LOGS_PATH}/logstash
LS_CONFIG_PATH=${CONFIG_PATH}/logstash

# Beats volumes
FILEBEAT_DATA_PATH=${DATA_PATH}/filebeat
FILEBEAT_LOGS_PATH=${LOGS_PATH}/filebeat
FILEBEAT_CONFIG_PATH=${CONFIG_PATH}/filebeat

METRICBEAT_DATA_PATH=${DATA_PATH}/metricbeat
METRICBEAT_LOGS_PATH=${LOGS_PATH}/metricbeat
METRICBEAT_CONFIG_PATH=${CONFIG_PATH}/metricbeat

HEARTBEAT_DATA_PATH=${DATA_PATH}/heartbeat
HEARTBEAT_LOGS_PATH=${LOGS_PATH}/heartbeat
HEARTBEAT_CONFIG_PATH=${CONFIG_PATH}/heartbeat

# APM Server volumes
APM_DATA_PATH=${DATA_PATH}/apm-server
APM_LOGS_PATH=${LOGS_PATH}/apm-server
APM_CONFIG_PATH=${CONFIG_PATH}/apm

# =============================================================================
# Resource Limits
# =============================================================================
# Elasticsearch
ES_CPU_LIMIT=2
ES_MEMORY_LIMIT=4g
ES_MEMORY_RESERVATION=2g

# Kibana
KIBANA_CPU_LIMIT=1
KIBANA_MEMORY_LIMIT=1g
KIBANA_MEMORY_RESERVATION=512m

# Logstash
LS_CPU_LIMIT=2
LS_MEMORY_LIMIT=2g
LS_MEMORY_RESERVATION=1g

# Filebeat
FILEBEAT_CPU_LIMIT=0.5
FILEBEAT_MEMORY_LIMIT=512m
FILEBEAT_MEMORY_RESERVATION=256m

# Metricbeat
METRICBEAT_CPU_LIMIT=0.5
METRICBEAT_MEMORY_LIMIT=512m
METRICBEAT_MEMORY_RESERVATION=256m

# Heartbeat
HEARTBEAT_CPU_LIMIT=0.5
HEARTBEAT_MEMORY_LIMIT=256m
HEARTBEAT_MEMORY_RESERVATION=128m

# APM Server
APM_CPU_LIMIT=1
APM_MEMORY_LIMIT=1g
APM_MEMORY_RESERVATION=512m

# =============================================================================
# Health Check Configuration
# =============================================================================
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=60s

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_DRIVER=json-file
LOG_MAX_SIZE=100m
LOG_MAX_FILE=3

# =============================================================================
# Monitoring Configuration
# =============================================================================
MONITORING_ENABLED=true
MONITORING_COLLECTION_ENABLED=true
MONITORING_COLLECTION_INTERVAL=10s

# =============================================================================
# Security Configuration
# =============================================================================
SECURITY_ENABLED=true
SSL_ENABLED=false
SSL_VERIFICATION_MODE=certificate

# Certificate paths (if SSL enabled)
SSL_CERTIFICATE_PATH=/usr/share/elasticsearch/config/certs
SSL_KEY_PATH=/usr/share/elasticsearch/config/certs
SSL_CA_PATH=/usr/share/elasticsearch/config/certs

# =============================================================================
# Backup Configuration
# =============================================================================
BACKUP_ENABLED=true
BACKUP_REPOSITORY_PATH=${DATA_PATH}/backups
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =============================================================================
# Development Configuration
# =============================================================================
DEV_MODE=true
DEBUG_ENABLED=false
PROFILING_ENABLED=false

# =============================================================================
# Integration Configuration
# =============================================================================
# Prometheus integration
PROMETHEUS_ENABLED=true
PROMETHEUS_HOST=prometheus
PROMETHEUS_PORT=9090

# Grafana integration
GRAFANA_ENABLED=true
GRAFANA_HOST=grafana
GRAFANA_PORT=3000

# Jaeger integration
JAEGER_ENABLED=true
JAEGER_HOST=jaeger
JAEGER_PORT=14268

# =============================================================================
# Custom Configuration
# =============================================================================
# Application specific settings
APP_NAME=aiops
APP_VERSION=1.0.0
APP_ENVIRONMENT=development

# Timezone
TZ=Asia/Shanghai

# Language
LANG=zh_CN.UTF-8
LC_ALL=zh_CN.UTF-8