# 服务器热控制系统环境变量配置示例
# 复制此文件为 .env 并根据实际环境修改配置

# 应用程序配置
APP_NAME=Server Thermal Control System
APP_VERSION=1.0.0
APP_ENV=development
APP_HOST=0.0.0.0
APP_PORT=8080
APP_LOG_LEVEL=info

# 数据库配置
DATABASE_URL=postgresql://thermal_user:thermal_pass@localhost:5432/thermal_control
DB_HOST=localhost
DB_PORT=5432
DB_NAME=thermal_control
DB_USER=thermal_user
DB_PASSWORD=thermal_pass
DB_MAX_CONNECTIONS=10
DB_MIN_CONNECTIONS=1
DB_CONNECT_TIMEOUT=30
DB_IDLE_TIMEOUT=600

# Redis配置
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=10
REDIS_CONNECT_TIMEOUT=5
REDIS_COMMAND_TIMEOUT=5

# IPMI配置
IPMI_HOST=192.168.1.100
IPMI_USERNAME=admin
IPMI_PASSWORD=admin123
IPMI_INTERFACE=lanplus
IPMI_TIMEOUT=10
IPMI_RETRIES=3

# 监控配置
MONITORING_ENABLED=true
MONITORING_INTERVAL=30
MONITORING_RETENTION_DAYS=30
MONITORING_ALERT_THRESHOLD_TEMP=80.0
MONITORING_ALERT_THRESHOLD_FAN=1000

# 控制配置
CONTROL_ENABLED=true
CONTROL_MODE=auto
CONTROL_TEMP_TARGET=65.0
CONTROL_TEMP_HYSTERESIS=5.0
CONTROL_FAN_MIN_SPEED=20
CONTROL_FAN_MAX_SPEED=100
CONTROL_UPDATE_INTERVAL=10

# 告警配置
ALERT_ENABLED=true
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_SMTP_HOST=smtp.gmail.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USERNAME=your-email@gmail.com
ALERT_EMAIL_PASSWORD=your-app-password
ALERT_EMAIL_FROM=thermal-control@example.com
ALERT_EMAIL_TO=admin@example.com

ALERT_WEBHOOK_ENABLED=false
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# 安全配置
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRATION=3600
API_KEY=your-api-key-for-external-access
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# 日志配置
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/thermal-control.log
LOG_FILE_MAX_SIZE=10MB
LOG_FILE_MAX_FILES=5

# 性能配置
WORKER_THREADS=4
MAX_REQUEST_SIZE=1MB
REQUEST_TIMEOUT=30
KEEP_ALIVE_TIMEOUT=5
GRACEFUL_SHUTDOWN_TIMEOUT=30

# 分析配置
ANALYSIS_ENABLED=true
ANALYSIS_INTERVAL=300
ANALYSIS_HISTORY_DAYS=7
ANALYSIS_PREDICTION_ENABLED=true
ANALYSIS_ML_MODEL_PATH=models/thermal_prediction.onnx

# 缓存配置
CACHE_TTL=300
CACHE_MAX_SIZE=1000
CACHE_ENABLED=true

# 开发配置
RUST_LOG=info
RUST_BACKTRACE=1
DEVELOPMENT_MODE=true
HOT_RELOAD=false

# Docker配置
COMPOSE_PROJECT_NAME=thermal-control
COMPOSE_FILE=docker-compose.yml

# Grafana配置
GF_SECURITY_ADMIN_PASSWORD=admin123
GF_USERS_ALLOW_SIGN_UP=false
GF_INSTALL_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource

# Prometheus配置
PROMETHEUS_RETENTION_TIME=15d
PROMETHEUS_STORAGE_PATH=/prometheus
PROMETHEUS_WEB_CONSOLE_TEMPLATES=/etc/prometheus/consoles
PROMETHEUS_WEB_CONSOLE_LIBRARIES=/etc/prometheus/console_libraries

# Nginx配置
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024
NGINX_CLIENT_MAX_BODY_SIZE=1m

# 备份配置
BACKUP_ENABLED=true
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=backups
BACKUP_COMPRESS=true

# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=40s

# 外部服务配置
EXTERNAL_API_ENABLED=false
EXTERNAL_API_URL=https://api.example.com
EXTERNAL_API_KEY=your-external-api-key
EXTERNAL_API_TIMEOUT=30

# 时区配置
TZ=Asia/Shanghai

# SSL/TLS配置
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/thermal-control.crt
SSL_KEY_PATH=/etc/ssl/private/thermal-control.key
SSL_CA_PATH=/etc/ssl/certs/ca-certificates.crt